#include "stdafx.h"

//------------------------------------------------------------------------------
//Copyright Robert Pelloni.
//All Rights Reserved.
//------------------------------------------------------------------------------


//#pragma once




//Logger BufferedImage::log = Logger("BufferedImage");

//=========================================================================================================================
BufferedImage::BufferedImage()
{//=========================================================================================================================

}

//=========================================================================================================================
BufferedImage::BufferedImage(u8* rgbadata, int w, int h)
{//=========================================================================================================================
	this->rgbadata = rgbadata;
	this->w = w;
	this->h = h;
}

//=========================================================================================================================
BufferedImage::BufferedImage(int w, int h)
{//=========================================================================================================================
	this->rgbadata = new u8[w*h];

}

//=========================================================================================================================
void BufferedImage::setRGB(int x, int y, int rgb)
{//=========================================================================================================================

	int a = (rgb >> 24) & 0xFF;
	int r = (rgb >> 16) & 0xFF;
	int g = (rgb >> 8) & 0xFF;
	int b = (rgb >> 0) & 0xFF;

	this->rgbadata[y*w+x+0] = a;
	this->rgbadata[y*w+x+1] = r;
	this->rgbadata[y*w+x+2] = g;
	this->rgbadata[y*w+x+3] = b;
}

//=========================================================================================================================
int BufferedImage::getRGB(int x, int y)
{//=========================================================================================================================

	u8 a = this->rgbadata[y*w + x + 0];
	u8 r = this->rgbadata[y*w + x + 1];
	u8 g = this->rgbadata[y*w + x + 2];
	u8 b = this->rgbadata[y*w + x + 3];
	return (a << 15) + (r << 10) + (g << 5) + b;
}

//=========================================================================================================================
u8* BufferedImage::getData()
{//=========================================================================================================================
	return rgbadata;
}

//=========================================================================================================================
void BufferedImage::setColor(BobColor* c)
{//=========================================================================================================================
	currentFillColor = c;
}

//=========================================================================================================================
void BufferedImage::fillRect(int x, int y, int w, int h)
{//=========================================================================================================================
	if(currentFillColor!=nullptr)
	{
		


	}
}


//=========================================================================================================================
int BufferedImage::getWidth()
{//=========================================================================================================================
	return w;
}

//=========================================================================================================================
int BufferedImage::getHeight()
{//=========================================================================================================================
	return h;
}

